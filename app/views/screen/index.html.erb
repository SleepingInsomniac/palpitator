<!doctype html>
<html lang="en" ng-app="pulpitator">
  <head>
    <meta charset="utf-8">
    <base href="/">
    
    <title>Pulpitator</title>
    <link href="/assets/styles.min.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <script src="/assets/vendor.js" type="text/javascript"></script>
    <script src="/assets/scripts.min.js" type="text/javascript"></script>
  </head>
  <body ng-controller="AppController">
    <audio></audio>
    <div class="app-container">
      
      <%= render partial: 'player.html' %>
      
      <div class="playhead-container">
        <div class="playhead">
          <div class="playhead-progress"></div>
        </div>
      </div>
      
      <main>
        <%= render partial: 'playlist.html' %>
        
        <section class="artists" ng-controller="LibraryController">
          <header>
            <!-- <h1>Artists</h1> -->
            <div class="search">
              <input ng-model="artistsFilter" type="text" placeholder="Search Artists">
              <button class="remove no-stretch" ng-click="artistsFilter = ''"><i class="fa fa-close"></i></button>
            </div>
          </header>
          <ul>
            <li ng-repeat="artist in artists | filter: artistsFilter">
              <div>
                <div class="item" ng-click="getAlbums(artist); showAlbums = !showAlbums">{{::artist.name}}</div>
                <button class="success no-stretch">
                  <i class="fa fa-plus"></i>
                </button>
              </div>
              <ul ng-show="showAlbums">
                <li ng-repeat="album in artist.albums">
                  <div>
                    <div class="item">{{album.title}}</div>
                    <button class="success no-stretch">
                      <i class="fa fa-plus"></i>
                    </button>
                  </div>
                </li>
              </ul>
            </li>
          </ul>
        </section>
      </main>
      
      <footer>
        &copy; <%= Time.now.year %>
      </footer>
      
    </div>
  </body>
</html>